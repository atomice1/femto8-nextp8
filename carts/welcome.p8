pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
ang = 0
music(0)
function _update()
 ang += 1/150
end
function _draw()
 cls()
 print("welcome to", 44, 20)
 print("copy your carts to", 28, 110)
 print("/machines/nextp8/carts", 20, 116)
 local x=64
 local y=64
 local tx=0
 local ty=0
 local scale=2
 local tw=3
 local th=1
 local tcxo=0
 local tcyo=0
 scale*=8

 local ca,sa=cos(ang),-sin(ang)
 local tcx,tcy=
  tx+tcxo+tw/2,ty+tcyo+th/2

 local trad=max(
  sqrt((tx-tcx)^2+(ty-tcy)^2),
  sqrt((tx+tw-tcx)^2+(ty+th-tcy)^2))
 local prad=scale*trad

 local lns=1/scale
 local tstep,toffy=lns,-trad
 local tdx,tdy=ca*lns,sa*lns

 local costx=ca*-trad
 local sintx=sa*-trad

 for poffy=-prad,prad do
  local costy=ca*(toffy)
  local sinty=sa*(toffy)

  tline(
   x-prad,y+poffy,
   x+prad,y+poffy,
   tcx+costx-sinty,
   tcy+sintx+costy,
   tdx,tdy)

  toffy+=tstep
 end
end
__gfx__
000000008800aaa0b0b0ccc077707770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008080a000b0b00c0070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008080aa000b000c0077707770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008080a000b0b00c0070007070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008080aaa0b0b00c0070007770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0102030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
001e0000327200000034720000002d7202d721000002b7202b7210000028720000002172021721000001f7201f721000001c720000001572015721000001572000000137201372100000000002f7202f72100000
001e00000000000000000003072000000000002f720000000000026720000002472000000000002372000000000001a7200000018720000000000017720000001472000000000000000000000377203772100000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000137201372100000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000026720
001e00002771000000307103071100000307103071100000307103071130711307113071130711000002472024721000003072032720000001f7201f721000000000024720247210000000000217202172100000
001e00000000028710000001f7101f7111c7101c71100000000001d7101d71100000000001e7101e711000003372034720000002472024721000002f720327203272130720307213072130721307213072100000
001e000000000187101871100000287100000000000287100000000000000002171021711000003072032720000001f7201f72100000347203472100000237202372100000000001f7201f721000000000023720
001e00000000000000000002471024711000000000022710227112471024711247102471100000000002772027721000000000028720287210000000000297202972128720287210000000000000000000026720
001e0000277100000030710307110000030710307110000030710307113071130711307113071130711000002b720000002d72000000347203472100000307200000029720297212972129721297212972100000
001e00000000028710000001f7101f7111c7101c71100000000001d7101d71100000000001c7101c71100000000002a7200000030720000001a7201a7211e7201e7211f7201f7211372013721000000000026720
001e00002372000000000002471024711000000000028710000000000000000217102171100000000002d710000001a7201a72100000000000000032720000002d72032720327213272132721327213272100000
001e00000000018710187110000028710000000000022710227112471024711247102471100000000001b7101b71100000000001e7201e7212472024721247202472123720237210000000000157201572117720
001e00002771000000307103071100000307103071100000307103071130711307113071130711000003272000000347200000032720000001f7201f721237202372124720247210000000000247202472100000
001e00000000028710000001f7101f7111c7101c71100000000001d7101d71100000000001e7101e7110000033720000003072000000347203472100000327203272100000000001f7201f721000000000030720
001e000000000187101871100000287100000000000287100000000000000002171021711000003072000000000001f7201f7210000000000000002f720000000000030720307213072130721307213072100000
001e00001772000000000002471024711000000000022710227112471024711247102471100000000002472024721277202772124720247212872028721297202972128720287210000000000000000000000000
001e00003272000000307200000034720347210000032720000003472000000327200000020720207210000030720000003072000000347203472100000327203272100000000001f7201f721000002872000000
001e00000000034720000003272000000227202272100000307200000030720000003472034721000003272000000347200000032720000001f7201f721000000000030720307213072130721000000000029720
001e000000000247202472100000000000000030720000000000021720217212472024721000003072000000000001f7201f7212472024721000002f720297202972128720287210000000000187201872100000
001e00000000000000000002872028721000000000024720247212872028721297202972100000000002472024721297202972128720287210000000000237202372124720247210000000000000000000000000
001e00002a72000000000002d720000001372013721000002a72000000000002d720000001372013721000002b720000002f72000000327200000032720000003272000000000001f7201f721000002872000000
001e0000000002b7202b721000002b7202b7210000029720000002b7202b721000002b7202b7210000030720000002d720000003072000000347200000030720000002b7202b7212b7212b721000000000029720
001e000000000187201872100000000000000028720000000000018720187210000000000000003472000000000001d7201d72100000000001d7201d72120720207211c7201c7210000000000137201372113721
001e00000000000000000001c7201c7211f7201f7211f7201f72100000000001c7201c7211f7201f7211f7201f721000000000021720217212472024721247202472100000000002472024721000000000000000
001e00002a72000000000002d720000001372013721000002a72000000000002d720000001c7201c7211b7201b721000002f7202f721000001a7201a721000002672000000000001d7201d721000002872000000
001e0000000002b7202b721000002b7202b7210000029720000002b7202b721000002b7202b721000002d720000002f720000001f7201f721000002d72000000000002b7202b7212b7212b7212b7210000029710
001e00001372000000000001c7201c7211f7201f7211f7201f72100000000001c7201c7211f7201f721000002e7200000000000237202372100000000002a72024720247212372023721000001c7201c72100000
001e000000000187201872100000000000000028720000000000018720187210000000000000002b72000000000001a7201a721000002f7202f721000001e7201e7211f7201f721000000000000000000001a710
001e00002a71000000000002d710000001371013711000002a71000000000002d710000001371013711000002b710000002f7100000032710000000000032710000003271000000000001f7101f711000002b710
001e0000000002b7102b711000002b7102b7110000029710000002b7102b711000002b7102b7110000030710000002d7100000030710000003471000000000003071000000307103071130711307113071100000
001e000000000187101871100000000000000028710000000000018710187110000000000000003471000000000001d7101d71100000000001d7101d7110000020710207111c7101c71100000000001871018711
001e00001a71000000000001c7101c7111f7101f7111f7101f71100000000001c7101c7111f7101f7111f7101f711000000000021710217112471024711000002471024711000000000024710247110000000000
001e0000000002b71000000000002d710000001e7101e7111e7101e7111f7101f7111f7201f7210000034720000002b7202d7202d721307203072134720327203272130720307213072130721307213072130721
001e00002a7100000030710307110000030710307110000030710000002b7100000034720000001f7201f7211f7201f7211a7201a7211a7201a72100000297202972128720287212872128721287212872128721
001e000000000000001d7101d7111d7101d711000002d710000002d71000000307200000037720377210000030720000002a7202a7212a7202a72129720000001f7201f72100000000001f7201f7211872018721
001e00001c7101c71122710227112171021711217102171127710277112771027711287102871128720287212872028721247202472121720217211f7201f7212372023721237202372124720247210000000000
001e0000000002772000000307103071100000307103071100000307103071130711307113071130711000003272000000347200000032720000001f7201f7212372023721247202472100000000002172021721
001e0000000000000028710000001f7101f7111c7101c71100000000001d7101d71100000000001e7101e7110000033720000003072000000347203472100000327203272100000000001f7201f7210000000000
001e00000000000000187101871100000287100000000000287100000000000000002171021711000003072000000000001f7201f7210000000000000002f7200000000000307203072130721307213072130721
001e00002672000000000000000024710247110000000000227102271124710247112471024711000000000024720247212772027721247202472128720287212972029721287202872100000000000000000000
001e000000000277100000030710307110000030710307110000030710307113071130711307113071130711000002b720000002d720000003472034721000003072000000297202972129721297212972129721
001e0000267200000028710000001f7101f7111c7101c71100000000001d7101d71100000000001c7101c71100000000002a7200000030720000001a7201a7211e7201e7211f7201f72113720137210000000000
001e0000000000000018710187110000028710000000000028710000000000000000217102171100000000002d710000001a7201a72100000000000000032720000002d720327203272132721327213272132721
001e0000237202372100000000002471024711000000000022710227112471024711247102471100000000001b7101b71100000000001e7201e72124720247212472024721237202372100000000001572015721
001e0000000002771000000307103071100000307103071100000307103071130711307113071130711000003272000000347200000032720000001f7201f7212372023721247202472100000000002472024721
001e0000267200000028710000001f7101f7111c7101c71100000000001d7101d71100000000001e7101e7110000033720000003072000000347203472100000327203272100000000001f7201f7210000000000
001e00000000000000187101871100000287100000000000287100000000000000002171021711000003072000000000001f7201f7210000000000000002f7200000000000307203072130721307213072130721
001e00001772017721000000000024710247110000000000227102271124710247112471024711000000000024720247212772027721247202472128720287212972029721287202872100000000000000000000
001e0000000003272000000307200000034720347210000032720000003472000000327200000020720207210000030720000003072000000347203472100000327203272100000000001f7201f7210000000000
001e0000307200000034720000003272000000227202272100000307200000030720000003472034721000003272000000347200000032720000001f7201f7210000000000307203072130721307213072130721
001e00000000000000247202472100000000000000030720000000000021720217212472024721000003072000000000001f7201f7212472024721000002f7202972029721287202872100000000001872018721
001e00000000000000000000000028720287210000000000247202472128720287212972029721000000000024720247212972029721287202872100000000002372023721247202472100000000000000000000
001e00000000000000347203472100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00003072030721000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e000000000000003c7203c72100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e000000000000000c7200c72100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 00010203
00 04050607
00 08090a0b
00 0c0d0e0f
00 10111213
00 14151617
00 18191a1b
00 1c1d1e1f
00 20212223
00 24252627
00 28292a2b
00 2c2d2e2f
00 30313233
00 34353637

